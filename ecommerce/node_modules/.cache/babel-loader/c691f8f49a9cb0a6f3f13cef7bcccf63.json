{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\bruno\\\\Desktop\\\\ecommerce\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _toConsumableArray from \"C:\\\\Users\\\\bruno\\\\Desktop\\\\ecommerce\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\n\nvar _this = this;\n\nimport { getCookie } from \"../../components/Util/Util\";\nimport axios from \"axios\";\nimport * as actionTypes from \"./actionTypes\";\nexport var addUser = function addUser(user) {\n  axios({\n    method: \"post\",\n    headers: {\n      \"content-type\": \"application/json\"\n    },\n    data: JSON.stringify(user),\n    url: \"http://localhost:8087/users\"\n  }).then(function (res) {\n    if (res.status === 201) {\n      _this.props.closeEntry();\n    }\n  }).catch(function (error) {\n    _this.setState({\n      error: error.response.data.message\n    });\n  });\n  return {\n    type: actionTypes.ADD_USER,\n    user: user\n  };\n};\nexport var removeUser = function removeUser(username) {\n  return function (dispatch) {\n    return {\n      type: actionTypes.REMOVE_USER,\n      username: username\n    };\n  };\n};\nexport var updateEnable = function updateEnable(users, index, userId) {\n  var allUsers = _toConsumableArray(users[index]);\n\n  allUsers[index].enable = !allUsers[index].enable;\n  allUsers[index].enabled = !allUsers[index].enabled;\n  allUsers[index].accountNonExpired = !allUsers[index].accountNonExpired;\n  allUsers[index].accountNonLocked = !allUsers[index].accountNonLocked;\n  allUsers[index].account_non_expired = !allUsers[index].account_non_expired;\n  allUsers[index].account_non_locked = !allUsers[index].account_non_locked;\n  allUsers[index].credentialsNonExpired = !allUsers[index].credentialsNonExpired;\n  return function (dispatch) {\n    axios.put(\"http://localhost:8087/secure/users/\".concat(userId, \"?access_token=\").concat(getCookie(\"Session\")), allUsers).then(function (res) {\n      if (res.status === 200) {\n        dispatch({\n          type: actionTypes.UPDATE_ENABLE,\n          users: allUsers,\n          index: index\n        });\n      }\n    });\n  };\n};\nexport var fetchUsers = function fetchUsers() {\n  return function (dispatch) {\n    var url = \"http://localhost:8087/secure/users?access_token=\".concat(getCookie(\"Session\"));\n    axios.get(url).then(function (res) {\n      var users = [];\n      var array = res.data;\n\n      for (var i = 0; i < array.length; i++) {\n        users.push(_objectSpread({}, array[i], {\n          isOpen: false\n        }));\n      }\n\n      dispatch(setUsers(users));\n    }).catch(function (err) {\n      dispatch(fetchUsersFailed());\n    });\n  };\n};\nexport var setUsers = function setUsers(users) {\n  return {\n    type: actionTypes.FETCH_USERS,\n    users: users\n  };\n};\nexport var fetchUsersFailed = function fetchUsersFailed() {\n  return {\n    type: actionTypes.FETCH_USERS_FAILED\n  };\n};","map":{"version":3,"sources":["C:\\Users\\bruno\\Desktop\\ecommerce\\src\\store\\actions\\user.js"],"names":["getCookie","axios","actionTypes","addUser","user","method","headers","data","JSON","stringify","url","then","res","status","props","closeEntry","catch","error","setState","response","message","type","ADD_USER","removeUser","username","dispatch","REMOVE_USER","updateEnable","users","index","userId","allUsers","enable","enabled","accountNonExpired","accountNonLocked","account_non_expired","account_non_locked","credentialsNonExpired","put","UPDATE_ENABLE","fetchUsers","get","array","i","length","push","isOpen","setUsers","err","fetchUsersFailed","FETCH_USERS","FETCH_USERS_FAILED"],"mappings":";;;;;AAAA,SAASA,SAAT,QAA0B,4BAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,WAAZ,MAA6B,eAA7B;AAEA,OAAO,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAAAC,IAAI,EAAI;AAC7BH,EAAAA,KAAK,CAAC;AACJI,IAAAA,MAAM,EAAE,MADJ;AAEJC,IAAAA,OAAO,EAAE;AAAE,sBAAgB;AAAlB,KAFL;AAGJC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,IAAf,CAHF;AAIJM,IAAAA,GAAG,EAAE;AAJD,GAAD,CAAL,CAMGC,IANH,CAMQ,UAAAC,GAAG,EAAI;AACX,QAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;AACtB,MAAA,KAAI,CAACC,KAAL,CAAWC,UAAX;AACD;AACF,GAVH,EAWGC,KAXH,CAWS,UAAAC,KAAK,EAAI;AACd,IAAA,KAAI,CAACC,QAAL,CAAc;AAAED,MAAAA,KAAK,EAAEA,KAAK,CAACE,QAAN,CAAeZ,IAAf,CAAoBa;AAA7B,KAAd;AACD,GAbH;AAeA,SAAO;AACLC,IAAAA,IAAI,EAAEnB,WAAW,CAACoB,QADb;AAELlB,IAAAA,IAAI,EAAEA;AAFD,GAAP;AAID,CApBM;AAsBP,OAAO,IAAMmB,UAAU,GAAG,SAAbA,UAAa,CAAAC,QAAQ,EAAI;AACpC,SAAO,UAAAC,QAAQ,EAAI;AACjB,WAAO;AACLJ,MAAAA,IAAI,EAAEnB,WAAW,CAACwB,WADb;AAELF,MAAAA,QAAQ,EAAEA;AAFL,KAAP;AAID,GALD;AAMD,CAPM;AASP,OAAO,IAAMG,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAAQC,KAAR,EAAeC,MAAf,EAA0B;AACpD,MAAIC,QAAQ,sBAAOH,KAAK,CAACC,KAAD,CAAZ,CAAZ;;AAEAE,EAAAA,QAAQ,CAACF,KAAD,CAAR,CAAgBG,MAAhB,GAAyB,CAACD,QAAQ,CAACF,KAAD,CAAR,CAAgBG,MAA1C;AACAD,EAAAA,QAAQ,CAACF,KAAD,CAAR,CAAgBI,OAAhB,GAA0B,CAACF,QAAQ,CAACF,KAAD,CAAR,CAAgBI,OAA3C;AACAF,EAAAA,QAAQ,CAACF,KAAD,CAAR,CAAgBK,iBAAhB,GAAoC,CAACH,QAAQ,CAACF,KAAD,CAAR,CAAgBK,iBAArD;AACAH,EAAAA,QAAQ,CAACF,KAAD,CAAR,CAAgBM,gBAAhB,GAAmC,CAACJ,QAAQ,CAACF,KAAD,CAAR,CAAgBM,gBAApD;AACAJ,EAAAA,QAAQ,CAACF,KAAD,CAAR,CAAgBO,mBAAhB,GAAsC,CAACL,QAAQ,CAACF,KAAD,CAAR,CAAgBO,mBAAvD;AACAL,EAAAA,QAAQ,CAACF,KAAD,CAAR,CAAgBQ,kBAAhB,GAAqC,CAACN,QAAQ,CAACF,KAAD,CAAR,CAAgBQ,kBAAtD;AACAN,EAAAA,QAAQ,CAACF,KAAD,CAAR,CAAgBS,qBAAhB,GAAwC,CAACP,QAAQ,CAACF,KAAD,CAAR,CACtCS,qBADH;AAEA,SAAO,UAAAb,QAAQ,EAAI;AACjBxB,IAAAA,KAAK,CACFsC,GADH,8CAE0CT,MAF1C,2BAEiE9B,SAAS,CACpE,SADoE,CAF1E,GAKI+B,QALJ,EAOGpB,IAPH,CAOQ,UAAAC,GAAG,EAAI;AACX,UAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;AACtBY,QAAAA,QAAQ,CAAC;AACPJ,UAAAA,IAAI,EAAEnB,WAAW,CAACsC,aADX;AAEPZ,UAAAA,KAAK,EAAEG,QAFA;AAGPF,UAAAA,KAAK,EAAEA;AAHA,SAAD,CAAR;AAKD;AACF,KAfH;AAgBD,GAjBD;AAkBD,CA7BM;AA+BP,OAAO,IAAMY,UAAU,GAAG,SAAbA,UAAa,GAAM;AAC9B,SAAO,UAAAhB,QAAQ,EAAI;AACjB,QAAIf,GAAG,6DAAsDV,SAAS,CACpE,SADoE,CAA/D,CAAP;AAGAC,IAAAA,KAAK,CACFyC,GADH,CACOhC,GADP,EAEGC,IAFH,CAEQ,UAAAC,GAAG,EAAI;AACX,UAAIgB,KAAK,GAAG,EAAZ;AACA,UAAIe,KAAK,GAAG/B,GAAG,CAACL,IAAhB;;AACA,WAAK,IAAIqC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,KAAK,CAACE,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrChB,QAAAA,KAAK,CAACkB,IAAN,mBAAgBH,KAAK,CAACC,CAAD,CAArB;AAA0BG,UAAAA,MAAM,EAAE;AAAlC;AACD;;AACDtB,MAAAA,QAAQ,CAACuB,QAAQ,CAACpB,KAAD,CAAT,CAAR;AACD,KATH,EAUGZ,KAVH,CAUS,UAAAiC,GAAG,EAAI;AACZxB,MAAAA,QAAQ,CAACyB,gBAAgB,EAAjB,CAAR;AACD,KAZH;AAaD,GAjBD;AAkBD,CAnBM;AAqBP,OAAO,IAAMF,QAAQ,GAAG,SAAXA,QAAW,CAAApB,KAAK,EAAI;AAC/B,SAAO;AACLP,IAAAA,IAAI,EAAEnB,WAAW,CAACiD,WADb;AAELvB,IAAAA,KAAK,EAAEA;AAFF,GAAP;AAID,CALM;AAOP,OAAO,IAAMsB,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AACpC,SAAO;AACL7B,IAAAA,IAAI,EAAEnB,WAAW,CAACkD;AADb,GAAP;AAGD,CAJM","sourcesContent":["import { getCookie } from \"../../components/Util/Util\";\r\nimport axios from \"axios\";\r\nimport * as actionTypes from \"./actionTypes\";\r\n\r\nexport const addUser = user => {\r\n  axios({\r\n    method: \"post\",\r\n    headers: { \"content-type\": \"application/json\" },\r\n    data: JSON.stringify(user),\r\n    url: \"http://localhost:8087/users\"\r\n  })\r\n    .then(res => {\r\n      if (res.status === 201) {\r\n        this.props.closeEntry();\r\n      }\r\n    })\r\n    .catch(error => {\r\n      this.setState({ error: error.response.data.message });\r\n    });\r\n\r\n  return {\r\n    type: actionTypes.ADD_USER,\r\n    user: user\r\n  };\r\n};\r\n\r\nexport const removeUser = username => {\r\n  return dispatch => {\r\n    return {\r\n      type: actionTypes.REMOVE_USER,\r\n      username: username\r\n    };\r\n  };\r\n};\r\n\r\nexport const updateEnable = (users, index, userId) => {\r\n  let allUsers = [...users[index]];\r\n\r\n  allUsers[index].enable = !allUsers[index].enable;\r\n  allUsers[index].enabled = !allUsers[index].enabled;\r\n  allUsers[index].accountNonExpired = !allUsers[index].accountNonExpired;\r\n  allUsers[index].accountNonLocked = !allUsers[index].accountNonLocked;\r\n  allUsers[index].account_non_expired = !allUsers[index].account_non_expired;\r\n  allUsers[index].account_non_locked = !allUsers[index].account_non_locked;\r\n  allUsers[index].credentialsNonExpired = !allUsers[index]\r\n    .credentialsNonExpired;\r\n  return dispatch => {\r\n    axios\r\n      .put(\r\n        `http://localhost:8087/secure/users/${userId}?access_token=${getCookie(\r\n          \"Session\"\r\n        )}`,\r\n        allUsers\r\n      )\r\n      .then(res => {\r\n        if (res.status === 200) {\r\n          dispatch({\r\n            type: actionTypes.UPDATE_ENABLE,\r\n            users: allUsers,\r\n            index: index\r\n          });\r\n        }\r\n      });\r\n  };\r\n};\r\n\r\nexport const fetchUsers = () => {\r\n  return dispatch => {\r\n    let url = `http://localhost:8087/secure/users?access_token=${getCookie(\r\n      \"Session\"\r\n    )}`;\r\n    axios\r\n      .get(url)\r\n      .then(res => {\r\n        let users = [];\r\n        let array = res.data;\r\n        for (let i = 0; i < array.length; i++) {\r\n          users.push({ ...array[i], isOpen: false });\r\n        }\r\n        dispatch(setUsers(users));\r\n      })\r\n      .catch(err => {\r\n        dispatch(fetchUsersFailed());\r\n      });\r\n  };\r\n};\r\n\r\nexport const setUsers = users => {\r\n  return {\r\n    type: actionTypes.FETCH_USERS,\r\n    users: users\r\n  };\r\n};\r\n\r\nexport const fetchUsersFailed = () => {\r\n  return {\r\n    type: actionTypes.FETCH_USERS_FAILED\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}