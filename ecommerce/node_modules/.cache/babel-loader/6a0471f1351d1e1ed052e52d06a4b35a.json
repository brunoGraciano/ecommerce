{"ast":null,"code":"import * as actionTypes from \"./actionTypes\";\nimport axios from \"axios\";\nimport { getCookie } from \"../Util/Util\";\nexport var addProduct = function addProduct(categoryName, subcategoryName, productName, product, attributes, imageArr) {\n  return function (dispatch) {\n    axios({\n      method: \"post\",\n      headers: {\n        \"content-type\": \"application/json\"\n      },\n      data: JSON.stringify(product),\n      url: \"http://localhost:8086/catalogs/categories/\".concat(categoryName, \"/subcategories/\").concat(subcategoryName, \"/products?session=\").concat(getCookie(\"Session\"))\n    }).then(function (res) {\n      if (res.status === 201) {\n        axios({\n          method: \"post\",\n          headers: {\n            \"content-type\": \"application/json\"\n          },\n          data: JSON.stringify(attributes),\n          url: \"http://localhost:8086/catalogs/categories/\".concat(categoryName, \"/subcategories/\").concat(subcategoryName, \"/products/\").concat(productName, \"/attributes?session=\").concat(getCookie(\"Session\"))\n        }).then(function (res) {}).catch(function (error) {\n          dispatch({\n            error: error.response.data.message\n          });\n        });\n\n        for (var i = 0; i < imageArr.length; i++) {\n          var url = imageArr[i];\n          axios({\n            method: \"post\",\n            headers: {\n              \"content-type\": \"application/json\"\n            },\n            data: JSON.stringify({\n              url: url\n            }),\n            url: \"http://localhost:8086/catalogs/categories/\".concat(categoryName, \"/subcategories/\").concat(subcategoryName, \"/products/\").concat(productName, \"/images?session=\").concat(getCookie(\"Session\"))\n          }).then(function (res) {}).catch(function (error) {\n            dispatch({\n              error: error.response.data.message\n            });\n          });\n        }\n      }\n    }).catch(function (error) {\n      dispatch({\n        error: error.response.data.message\n      });\n    });\n  };\n};\nexport var removeProduct = function removeProduct(productId) {\n  return {\n    type: actionTypes.REMOVE_PRODUCT,\n    productId: productId\n  };\n};","map":{"version":3,"sources":["C:\\Users\\bruno\\Desktop\\ecommerce\\src\\store\\actions\\productAction.js"],"names":["actionTypes","axios","getCookie","addProduct","categoryName","subcategoryName","productName","product","attributes","imageArr","dispatch","method","headers","data","JSON","stringify","url","then","res","status","catch","error","response","message","i","length","removeProduct","productId","type","REMOVE_PRODUCT"],"mappings":"AAAA,OAAO,KAAKA,WAAZ,MAA6B,eAA7B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,cAA1B;AAEA,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,CACxBC,YADwB,EAExBC,eAFwB,EAGxBC,WAHwB,EAIxBC,OAJwB,EAKxBC,UALwB,EAMxBC,QANwB,EAOrB;AACH,SAAO,UAAAC,QAAQ,EAAI;AACjBT,IAAAA,KAAK,CAAC;AACJU,MAAAA,MAAM,EAAE,MADJ;AAEJC,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB,OAFL;AAGJC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeR,OAAf,CAHF;AAIJS,MAAAA,GAAG,sDAA+CZ,YAA/C,4BAA6EC,eAA7E,+BAAiHH,SAAS,CAC3H,SAD2H,CAA1H;AAJC,KAAD,CAAL,CAQGe,IARH,CAQQ,UAAAC,GAAG,EAAI;AACX,UAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;AACtBlB,QAAAA,KAAK,CAAC;AACJU,UAAAA,MAAM,EAAE,MADJ;AAEJC,UAAAA,OAAO,EAAE;AAAE,4BAAgB;AAAlB,WAFL;AAGJC,UAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeP,UAAf,CAHF;AAIJQ,UAAAA,GAAG,sDAA+CZ,YAA/C,4BAA6EC,eAA7E,uBAAyGC,WAAzG,iCAA2IJ,SAAS,CACrJ,SADqJ,CAApJ;AAJC,SAAD,CAAL,CAQGe,IARH,CAQQ,UAAAC,GAAG,EAAI,CAAE,CARjB,EASGE,KATH,CASS,UAAAC,KAAK,EAAI;AACdX,UAAAA,QAAQ,CAAC;AAAEW,YAAAA,KAAK,EAAEA,KAAK,CAACC,QAAN,CAAeT,IAAf,CAAoBU;AAA7B,WAAD,CAAR;AACD,SAXH;;AAYA,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGf,QAAQ,CAACgB,MAA7B,EAAqCD,CAAC,EAAtC,EAA0C;AACxC,cAAIR,GAAG,GAAGP,QAAQ,CAACe,CAAD,CAAlB;AACAvB,UAAAA,KAAK,CAAC;AACJU,YAAAA,MAAM,EAAE,MADJ;AAEJC,YAAAA,OAAO,EAAE;AAAE,8BAAgB;AAAlB,aAFL;AAGJC,YAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEC,cAAAA,GAAG,EAAEA;AAAP,aAAf,CAHF;AAIJA,YAAAA,GAAG,sDAA+CZ,YAA/C,4BAA6EC,eAA7E,uBAAyGC,WAAzG,6BAAuIJ,SAAS,CACjJ,SADiJ,CAAhJ;AAJC,WAAD,CAAL,CAQGe,IARH,CAQQ,UAAAC,GAAG,EAAI,CAAE,CARjB,EASGE,KATH,CASS,UAAAC,KAAK,EAAI;AACdX,YAAAA,QAAQ,CAAC;AAAEW,cAAAA,KAAK,EAAEA,KAAK,CAACC,QAAN,CAAeT,IAAf,CAAoBU;AAA7B,aAAD,CAAR;AACD,WAXH;AAYD;AACF;AACF,KAtCH,EAuCGH,KAvCH,CAuCS,UAAAC,KAAK,EAAI;AACdX,MAAAA,QAAQ,CAAC;AACPW,QAAAA,KAAK,EAAEA,KAAK,CAACC,QAAN,CAAeT,IAAf,CAAoBU;AADpB,OAAD,CAAR;AAGD,KA3CH;AA4CD,GA7CD;AA8CD,CAtDM;AAwDP,OAAO,IAAMG,aAAa,GAAG,SAAhBA,aAAgB,CAAAC,SAAS,EAAI;AACxC,SAAO;AACLC,IAAAA,IAAI,EAAE5B,WAAW,CAAC6B,cADb;AAELF,IAAAA,SAAS,EAAEA;AAFN,GAAP;AAID,CALM","sourcesContent":["import * as actionTypes from \"./actionTypes\";\r\nimport axios from \"axios\";\r\nimport { getCookie } from \"../Util/Util\";\r\n\r\nexport const addProduct = (\r\n  categoryName,\r\n  subcategoryName,\r\n  productName,\r\n  product,\r\n  attributes,\r\n  imageArr\r\n) => {\r\n  return dispatch => {\r\n    axios({\r\n      method: \"post\",\r\n      headers: { \"content-type\": \"application/json\" },\r\n      data: JSON.stringify(product),\r\n      url: `http://localhost:8086/catalogs/categories/${categoryName}/subcategories/${subcategoryName}/products?session=${getCookie(\r\n        \"Session\"\r\n      )}`\r\n    })\r\n      .then(res => {\r\n        if (res.status === 201) {\r\n          axios({\r\n            method: \"post\",\r\n            headers: { \"content-type\": \"application/json\" },\r\n            data: JSON.stringify(attributes),\r\n            url: `http://localhost:8086/catalogs/categories/${categoryName}/subcategories/${subcategoryName}/products/${productName}/attributes?session=${getCookie(\r\n              \"Session\"\r\n            )}`\r\n          })\r\n            .then(res => {})\r\n            .catch(error => {\r\n              dispatch({ error: error.response.data.message });\r\n            });\r\n          for (let i = 0; i < imageArr.length; i++) {\r\n            let url = imageArr[i];\r\n            axios({\r\n              method: \"post\",\r\n              headers: { \"content-type\": \"application/json\" },\r\n              data: JSON.stringify({ url: url }),\r\n              url: `http://localhost:8086/catalogs/categories/${categoryName}/subcategories/${subcategoryName}/products/${productName}/images?session=${getCookie(\r\n                \"Session\"\r\n              )}`\r\n            })\r\n              .then(res => {})\r\n              .catch(error => {\r\n                dispatch({ error: error.response.data.message });\r\n              });\r\n          }\r\n        }\r\n      })\r\n      .catch(error => {\r\n        dispatch({\r\n          error: error.response.data.message\r\n        });\r\n      });\r\n  };\r\n};\r\n\r\nexport const removeProduct = productId => {\r\n  return {\r\n    type: actionTypes.REMOVE_PRODUCT,\r\n    productId: productId\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}