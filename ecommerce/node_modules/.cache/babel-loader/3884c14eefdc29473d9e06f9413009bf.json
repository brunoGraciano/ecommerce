{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\bruno\\\\Desktop\\\\ecommerce\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"C:\\\\Users\\\\bruno\\\\Desktop\\\\ecommerce\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\bruno\\\\Desktop\\\\ecommerce\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\bruno\\\\Desktop\\\\ecommerce\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\bruno\\\\Desktop\\\\ecommerce\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\bruno\\\\Desktop\\\\ecommerce\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\bruno\\\\Desktop\\\\ecommerce\\\\src\\\\components\\\\CreateProduct\\\\CreateProduct.js\";\nimport React, { Component } from \"react\";\nimport \"./CreateProduct.css\";\nimport TransitionGroup from \"react-transition-group/TransitionGroup\";\nimport CSSTransition from \"react-transition-group/CSSTransition\";\nimport { connect } from \"react-redux\";\nimport { addProduct, fetchSizes, fetchWeights, fetchBrands, fetchColors } from \"../../store/actions/indexStore\";\n\nvar CreateProduct =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CreateProduct, _Component);\n\n  function CreateProduct() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, CreateProduct);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CreateProduct)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      selectedCategory: \"\",\n      product: {\n        name: \"\",\n        description: \"\",\n        price: 0,\n        quantity: 0,\n        thumbnail: \"\"\n      },\n      attributes: {\n        brand: \"\",\n        color: \"\",\n        weight: \"\",\n        size: \"\"\n      },\n      imageUrl: \"\",\n      imageArr: [],\n      errorAddImage: \"\",\n      errorAddImageFlash: false,\n      error: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(CreateProduct, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.onfetchSizes();\n      this.props.onfetchColors();\n      this.props.onfetchWeights();\n      this.props.onfetchBrands();\n    }\n  }, {\n    key: \"resetFieldsHandler\",\n    value: function resetFieldsHandler() {\n      this.setState({\n        product: {\n          name: \"\",\n          description: \"\",\n          price: 0,\n          quantity: 0,\n          thumbnail: \"\"\n        },\n        imageUrl: \"\",\n        imageArr: []\n      });\n    }\n  }, {\n    key: \"addUrlHandler\",\n    value: function addUrlHandler() {\n      if (this.state.imageUrl !== \"\") {\n        if (this.state.imageArr.indexOf(this.state.imageUrl) === -1) {\n          this.state.imageArr.push(this.state.imageUrl);\n          this.setState({\n            errorAddImage: \"\",\n            imageUrl: \"\"\n          });\n        } else {\n          this.setState({\n            errorAddImage: \"Duplicate Urls.\",\n            errorAddImageFlash: true\n          });\n        }\n      } else {\n        this.setState({\n          errorAddImage: \"Invalid Url.\",\n          errorAddImageFlash: true\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"CreateProduct\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"product-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"categories\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"Category\"), React.createElement(\"select\", {\n        ref: \"categoryCreateProduct\",\n        onChange: function onChange(e) {\n          return _this2.setState({\n            selectedCategory: e.target.options[e.target.selectedIndex].value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, this.props.catalog.catalog.map(function (category) {\n        return React.createElement(\"option\", {\n          key: category.id,\n          value: category.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, category.name);\n      }))), React.createElement(\"div\", {\n        className: \"subcategories\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"Subcategory\"), React.createElement(\"select\", {\n        ref: \"subcategoryCreateProduct\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, this.props.catalog.catalog.map(function (category, index) {\n        if (category.id === _this2.state.selectedCategory || _this2.state.selectedCategory === \"\" && index === 0) {\n          return category.subcategories.map(function (subcategory) {\n            return React.createElement(\"option\", {\n              key: subcategory.id,\n              value: subcategory.id,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 106\n              },\n              __self: this\n            }, subcategory.name);\n          });\n        }\n\n        return null;\n      }))), React.createElement(\"div\", {\n        className: \"thumbnail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Thumbnail URL:\"), React.createElement(\"input\", {\n        value: this.state.product.thumbnail,\n        type: \"text\",\n        placeholder: \"Thumbnail\",\n        onChange: function onChange(e) {\n          return _this2.setState({\n            product: _objectSpread({}, _this2.state.product, {\n              thumbnail: e.target.value\n            })\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      })), this.state.product.thumbnail !== \"\" ? React.createElement(\"div\", {\n        className: \"image-thumbnail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: this.state.product.thumbnail,\n        alt: \"Invalid Thumbnail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      })) : null, React.createElement(\"div\", {\n        className: \"name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, \"Name:\"), React.createElement(\"input\", {\n        value: this.state.product.name,\n        type: \"text\",\n        placeholder: \"Name\",\n        onChange: function onChange(e) {\n          return _this2.setState({\n            product: _objectSpread({}, _this2.state.product, {\n              name: e.target.value\n            })\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"price\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, \"Price:\"), React.createElement(\"input\", {\n        value: this.state.product.price,\n        type: \"number\",\n        placeholder: \"Price\",\n        onChange: function onChange(e) {\n          return _this2.setState({\n            product: _objectSpread({}, _this2.state.product, {\n              price: e.target.value\n            })\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"quantity\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, \"Quantity:\"), React.createElement(\"input\", {\n        value: this.state.product.quantity,\n        type: \"number\",\n        placeholder: \"Quantity\",\n        onChange: function onChange(e) {\n          return _this2.setState({\n            product: _objectSpread({}, _this2.state.product, {\n              quantity: e.target.value\n            })\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"attributes\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"brand\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, \"Brand:\"), React.createElement(\"select\", {\n        value: this.state.attributes.brand,\n        onChange: function onChange(e) {\n          return _this2.setState({\n            attributes: _objectSpread({}, _this2.state.attributes, {\n              brand: e.target.options[e.target.selectedIndex].value\n            })\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, \"All Brands\"), this.props.catalog.brands.map(function (brand) {\n        return React.createElement(\"option\", {\n          key: brand.id,\n          value: brand.name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200\n          },\n          __self: this\n        }, brand.name);\n      }))), React.createElement(\"div\", {\n        className: \"color\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, \"Color:\"), React.createElement(\"select\", {\n        onChange: function onChange(e) {\n          return _this2.setState({\n            attributes: _objectSpread({}, _this2.state.attributes, {\n              color: e.target.options[e.target.selectedIndex].value\n            })\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, \"All Colors\"), this.props.catalog.colors.map(function (color) {\n        return React.createElement(\"option\", {\n          key: color.id,\n          value: color.name.toLowerCase(),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220\n          },\n          __self: this\n        }, color.name);\n      }))), React.createElement(\"div\", {\n        className: \"weight\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, \"Weight:\"), React.createElement(\"select\", {\n        onChange: function onChange(e) {\n          return _this2.setState({\n            attributes: _objectSpread({}, _this2.state.attributes, {\n              weight: e.target.options[e.target.selectedIndex].value\n            })\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238\n        },\n        __self: this\n      }, \"All Weights\"), this.props.catalog.weights.map(function (weight) {\n        return React.createElement(\"option\", {\n          key: weight.id,\n          value: weight.name.toLowerCase(),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 240\n          },\n          __self: this\n        }, weight.name);\n      }))), React.createElement(\"div\", {\n        className: \"size\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }, \"Size:\"), React.createElement(\"select\", {\n        onChange: function onChange(e) {\n          return _this2.setState({\n            attributes: _objectSpread({}, _this2.state.attributes, {\n              size: e.target.options[e.target.selectedIndex].value\n            })\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, \"All Sizes\"), this.props.catalog.sizes.map(function (size) {\n        return React.createElement(\"option\", {\n          key: size.id,\n          value: size.name.toLowerCase(),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 260\n          },\n          __self: this\n        }, size.name);\n      })))), React.createElement(\"div\", {\n        className: \"description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, \"Description:\"), React.createElement(\"textarea\", {\n        type: \"text\",\n        placeholder: \"Description\",\n        value: this.state.product.description,\n        onChange: function onChange(e) {\n          return _this2.setState({\n            product: _objectSpread({}, _this2.state.product, {\n              description: e.target.value\n            })\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"images\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284\n        },\n        __self: this\n      }, \"Image Url:\"), React.createElement(\"div\", {\n        className: \"image-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        onChange: function onChange(e) {\n          return _this2.setState({\n            imageUrl: e.target.value\n          });\n        },\n        value: this.state.imageUrl,\n        type: \"text\",\n        placeholder: \"Image URL\",\n        onKeyPress: function onKeyPress(e) {\n          if (e.key === \"Enter\") {\n            _this2.addUrlHandler();\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286\n        },\n        __self: this\n      }), React.createElement(\"i\", {\n        onClick: function onClick() {\n          _this2.addUrlHandler();\n        },\n        className: \"fas fa-plus\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297\n        },\n        __self: this\n      })), React.createElement(\"p\", {\n        style: {\n          visibility: this.state.errorAddImage !== \"\" ? \"visible\" : \"hidden\"\n        },\n        onAnimationEnd: function onAnimationEnd() {\n          return _this2.setState({\n            errorAddImageFlash: false\n          });\n        },\n        className: this.state.errorAddImageFlash ? \"error flash\" : \"error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304\n        },\n        __self: this\n      }, this.state.errorAddImage)), React.createElement(TransitionGroup, {\n        component: \"ul\",\n        className: \"image-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319\n        },\n        __self: this\n      }, this.state.imageArr.map(function (url) {\n        return React.createElement(CSSTransition, {\n          key: url,\n          classNames: \"fade\",\n          timeout: 400,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 321\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          className: \"image-url\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 322\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"image\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 323\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: url,\n          alt: url,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 324\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 326\n          },\n          __self: this\n        }, url), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 327\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fas fa-times\",\n          onClick: function onClick() {\n            var imageArr = _this2.state.imageArr;\n            imageArr.splice(imageArr.indexOf(url), 1);\n\n            _this2.setState({\n              imageArr: imageArr\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 328\n          },\n          __self: this\n        }))));\n      })), React.createElement(\"div\", {\n        className: \"buttons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"submit\",\n        onClick: function onClick() {\n          var categoryId = _this2.refs.categoryCreateProduct.value;\n          var subcategoryId = _this2.refs.subcategoryCreateProduct.value;\n\n          _this2.props.onaddProduct(categoryId, subcategoryId, _this2.state.product, _this2.state.attributes, _this2.state.imageArr);\n\n          _this2.resetFieldsHandler();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342\n        },\n        __self: this\n      }, \"Submit\"), React.createElement(\"button\", {\n        className: \"reset\",\n        onClick: function onClick() {\n          return _this2.resetFieldsHandler();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359\n        },\n        __self: this\n      }, \"Reset\"), React.createElement(\"button\", {\n        className: \"cancel\",\n        onClick: function onClick() {\n          return _this2.props.history.push({\n            pathname: \"/\"\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362\n        },\n        __self: this\n      }, \"Cancel\"))));\n    }\n  }]);\n\n  return CreateProduct;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    catalog: state.catalog\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onaddProduct: function onaddProduct(categoryId, subcategoryId, product, attributes, imageArr) {\n      return dispatch(addProduct(categoryId, subcategoryId, product, attributes, imageArr));\n    },\n    onfetchSizes: function onfetchSizes() {\n      return dispatch(fetchSizes());\n    },\n    onfetchColors: function onfetchColors() {\n      return dispatch(fetchColors());\n    },\n    onfetchBrands: function onfetchBrands() {\n      return dispatch(fetchBrands());\n    },\n    onfetchWeights: function onfetchWeights() {\n      return dispatch(fetchWeights());\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateProduct);","map":{"version":3,"sources":["C:\\Users\\bruno\\Desktop\\ecommerce\\src\\components\\CreateProduct\\CreateProduct.js"],"names":["React","Component","TransitionGroup","CSSTransition","connect","addProduct","fetchSizes","fetchWeights","fetchBrands","fetchColors","CreateProduct","state","selectedCategory","product","name","description","price","quantity","thumbnail","attributes","brand","color","weight","size","imageUrl","imageArr","errorAddImage","errorAddImageFlash","error","props","onfetchSizes","onfetchColors","onfetchWeights","onfetchBrands","setState","indexOf","push","e","target","options","selectedIndex","value","catalog","map","category","id","index","subcategories","subcategory","brands","colors","toLowerCase","weights","sizes","key","addUrlHandler","visibility","url","splice","categoryId","refs","categoryCreateProduct","subcategoryId","subcategoryCreateProduct","onaddProduct","resetFieldsHandler","history","pathname","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./CreateProduct.css\";\r\nimport TransitionGroup from \"react-transition-group/TransitionGroup\";\r\nimport CSSTransition from \"react-transition-group/CSSTransition\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  addProduct,\r\n  fetchSizes,\r\n  fetchWeights,\r\n  fetchBrands,\r\n  fetchColors\r\n} from \"../../store/actions/indexStore\";\r\n\r\nclass CreateProduct extends Component {\r\n  state = {\r\n    selectedCategory: \"\",\r\n    product: {\r\n      name: \"\",\r\n      description: \"\",\r\n      price: 0,\r\n      quantity: 0,\r\n      thumbnail: \"\"\r\n    },\r\n    attributes: {\r\n      brand: \"\",\r\n      color: \"\",\r\n      weight: \"\",\r\n      size: \"\"\r\n    },\r\n    imageUrl: \"\",\r\n    imageArr: [],\r\n    errorAddImage: \"\",\r\n    errorAddImageFlash: false,\r\n    error: \"\"\r\n  };\r\n  componentDidMount() {\r\n    this.props.onfetchSizes();\r\n    this.props.onfetchColors();\r\n    this.props.onfetchWeights();\r\n    this.props.onfetchBrands();\r\n  }\r\n  resetFieldsHandler() {\r\n    this.setState({\r\n      product: {\r\n        name: \"\",\r\n        description: \"\",\r\n        price: 0,\r\n        quantity: 0,\r\n        thumbnail: \"\"\r\n      },\r\n      imageUrl: \"\",\r\n      imageArr: []\r\n    });\r\n  }\r\n\r\n  addUrlHandler() {\r\n    if (this.state.imageUrl !== \"\") {\r\n      if (this.state.imageArr.indexOf(this.state.imageUrl) === -1) {\r\n        this.state.imageArr.push(this.state.imageUrl);\r\n        this.setState({ errorAddImage: \"\", imageUrl: \"\" });\r\n      } else {\r\n        this.setState({\r\n          errorAddImage: \"Duplicate Urls.\",\r\n          errorAddImageFlash: true\r\n        });\r\n      }\r\n    } else {\r\n      this.setState({\r\n        errorAddImage: \"Invalid Url.\",\r\n        errorAddImageFlash: true\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"CreateProduct\">\r\n        <div className=\"product-wrapper\">\r\n          <div className=\"categories\">\r\n            <p className=\"label\">Category</p>\r\n            <select\r\n              ref=\"categoryCreateProduct\"\r\n              onChange={e =>\r\n                this.setState({\r\n                  selectedCategory:\r\n                    e.target.options[e.target.selectedIndex].value\r\n                })\r\n              }\r\n            >\r\n              {this.props.catalog.catalog.map(category => (\r\n                <option key={category.id} value={category.id}>\r\n                  {category.name}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div className=\"subcategories\">\r\n            <p className=\"label\">Subcategory</p>\r\n            <select ref=\"subcategoryCreateProduct\">\r\n              {this.props.catalog.catalog.map((category, index) => {\r\n                if (\r\n                  category.id === this.state.selectedCategory ||\r\n                  (this.state.selectedCategory === \"\" && index === 0)\r\n                ) {\r\n                  return category.subcategories.map(subcategory => (\r\n                    <option key={subcategory.id} value={subcategory.id}>\r\n                      {subcategory.name}\r\n                    </option>\r\n                  ));\r\n                }\r\n                return null;\r\n              })}\r\n            </select>\r\n          </div>\r\n          <div className=\"thumbnail\">\r\n            <p className=\"label\">Thumbnail URL:</p>\r\n            <input\r\n              value={this.state.product.thumbnail}\r\n              type=\"text\"\r\n              placeholder=\"Thumbnail\"\r\n              onChange={e =>\r\n                this.setState({\r\n                  product: {\r\n                    ...this.state.product,\r\n                    thumbnail: e.target.value\r\n                  }\r\n                })\r\n              }\r\n            />\r\n          </div>\r\n          {this.state.product.thumbnail !== \"\" ? (\r\n            <div className=\"image-thumbnail\">\r\n              <img src={this.state.product.thumbnail} alt=\"Invalid Thumbnail\" />\r\n            </div>\r\n          ) : null}\r\n          <div className=\"name\">\r\n            <p className=\"label\">Name:</p>\r\n            <input\r\n              value={this.state.product.name}\r\n              type=\"text\"\r\n              placeholder=\"Name\"\r\n              onChange={e =>\r\n                this.setState({\r\n                  product: {\r\n                    ...this.state.product,\r\n                    name: e.target.value\r\n                  }\r\n                })\r\n              }\r\n            />\r\n          </div>\r\n          <div className=\"price\">\r\n            <p className=\"label\">Price:</p>\r\n            <input\r\n              value={this.state.product.price}\r\n              type=\"number\"\r\n              placeholder=\"Price\"\r\n              onChange={e =>\r\n                this.setState({\r\n                  product: {\r\n                    ...this.state.product,\r\n                    price: e.target.value\r\n                  }\r\n                })\r\n              }\r\n            />\r\n          </div>\r\n          <div className=\"quantity\">\r\n            <p className=\"label\">Quantity:</p>\r\n            <input\r\n              value={this.state.product.quantity}\r\n              type=\"number\"\r\n              placeholder=\"Quantity\"\r\n              onChange={e =>\r\n                this.setState({\r\n                  product: {\r\n                    ...this.state.product,\r\n                    quantity: e.target.value\r\n                  }\r\n                })\r\n              }\r\n            />\r\n          </div>\r\n          <div className=\"attributes\">\r\n            <div className=\"brand\">\r\n              <p className=\"label\">Brand:</p>\r\n              <select\r\n                value={this.state.attributes.brand}\r\n                onChange={e =>\r\n                  this.setState({\r\n                    attributes: {\r\n                      ...this.state.attributes,\r\n                      brand: e.target.options[e.target.selectedIndex].value\r\n                    }\r\n                  })\r\n                }\r\n              >\r\n                <option value=\"\">All Brands</option>\r\n                {this.props.catalog.brands.map(brand => (\r\n                  <option key={brand.id} value={brand.name}>\r\n                    {brand.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            <div className=\"color\">\r\n              <p className=\"label\">Color:</p>\r\n              <select\r\n                onChange={e =>\r\n                  this.setState({\r\n                    attributes: {\r\n                      ...this.state.attributes,\r\n                      color: e.target.options[e.target.selectedIndex].value\r\n                    }\r\n                  })\r\n                }\r\n              >\r\n                <option value=\"\">All Colors</option>\r\n                {this.props.catalog.colors.map(color => (\r\n                  <option key={color.id} value={color.name.toLowerCase()}>\r\n                    {color.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            <div className=\"weight\">\r\n              <p className=\"label\">Weight:</p>\r\n              <select\r\n                onChange={e =>\r\n                  this.setState({\r\n                    attributes: {\r\n                      ...this.state.attributes,\r\n                      weight: e.target.options[e.target.selectedIndex].value\r\n                    }\r\n                  })\r\n                }\r\n              >\r\n                <option value=\"\">All Weights</option>\r\n                {this.props.catalog.weights.map(weight => (\r\n                  <option key={weight.id} value={weight.name.toLowerCase()}>\r\n                    {weight.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            <div className=\"size\">\r\n              <p className=\"label\">Size:</p>\r\n              <select\r\n                onChange={e =>\r\n                  this.setState({\r\n                    attributes: {\r\n                      ...this.state.attributes,\r\n                      size: e.target.options[e.target.selectedIndex].value\r\n                    }\r\n                  })\r\n                }\r\n              >\r\n                <option value=\"\">All Sizes</option>\r\n                {this.props.catalog.sizes.map(size => (\r\n                  <option key={size.id} value={size.name.toLowerCase()}>\r\n                    {size.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div className=\"description\">\r\n            <p className=\"label\">Description:</p>\r\n            <textarea\r\n              type=\"text\"\r\n              placeholder=\"Description\"\r\n              value={this.state.product.description}\r\n              onChange={e =>\r\n                this.setState({\r\n                  product: {\r\n                    ...this.state.product,\r\n                    description: e.target.value\r\n                  }\r\n                })\r\n              }\r\n            />\r\n          </div>\r\n          <div className=\"images\">\r\n            <p className=\"label\">Image Url:</p>\r\n            <div className=\"image-wrapper\">\r\n              <input\r\n                onChange={e => this.setState({ imageUrl: e.target.value })}\r\n                value={this.state.imageUrl}\r\n                type=\"text\"\r\n                placeholder=\"Image URL\"\r\n                onKeyPress={e => {\r\n                  if (e.key === \"Enter\") {\r\n                    this.addUrlHandler();\r\n                  }\r\n                }}\r\n              />\r\n              <i\r\n                onClick={() => {\r\n                  this.addUrlHandler();\r\n                }}\r\n                className=\"fas fa-plus\"\r\n              />\r\n            </div>\r\n            <p\r\n              style={{\r\n                visibility:\r\n                  this.state.errorAddImage !== \"\" ? \"visible\" : \"hidden\"\r\n              }}\r\n              onAnimationEnd={() =>\r\n                this.setState({ errorAddImageFlash: false })\r\n              }\r\n              className={\r\n                this.state.errorAddImageFlash ? \"error flash\" : \"error\"\r\n              }\r\n            >\r\n              {this.state.errorAddImage}\r\n            </p>\r\n          </div>\r\n          <TransitionGroup component=\"ul\" className=\"image-list\">\r\n            {this.state.imageArr.map(url => (\r\n              <CSSTransition key={url} classNames=\"fade\" timeout={400}>\r\n                <li className=\"image-url\">\r\n                  <div className=\"image\">\r\n                    <img src={url} alt={url} />\r\n                  </div>\r\n                  <div>{url}</div>\r\n                  <div>\r\n                    <i\r\n                      className=\"fas fa-times\"\r\n                      onClick={() => {\r\n                        let imageArr = this.state.imageArr;\r\n                        imageArr.splice(imageArr.indexOf(url), 1);\r\n                        this.setState({ imageArr: imageArr });\r\n                      }}\r\n                    />\r\n                  </div>\r\n                </li>\r\n              </CSSTransition>\r\n            ))}\r\n          </TransitionGroup>\r\n          <div className=\"buttons\">\r\n            <button\r\n              className=\"submit\"\r\n              onClick={() => {\r\n                const categoryId = this.refs.categoryCreateProduct.value;\r\n                const subcategoryId = this.refs.subcategoryCreateProduct.value;\r\n                this.props.onaddProduct(\r\n                  categoryId,\r\n                  subcategoryId,\r\n                  this.state.product,\r\n                  this.state.attributes,\r\n                  this.state.imageArr\r\n                );\r\n                this.resetFieldsHandler();\r\n              }}\r\n            >\r\n              Submit\r\n            </button>\r\n            <button className=\"reset\" onClick={() => this.resetFieldsHandler()}>\r\n              Reset\r\n            </button>\r\n            <button\r\n              className=\"cancel\"\r\n              onClick={() => this.props.history.push({ pathname: \"/\" })}\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    catalog: state.catalog\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onaddProduct: (categoryId, subcategoryId, product, attributes, imageArr) =>\r\n      dispatch(\r\n        addProduct(categoryId, subcategoryId, product, attributes, imageArr)\r\n      ),\r\n    onfetchSizes: () => dispatch(fetchSizes()),\r\n    onfetchColors: () => dispatch(fetchColors()),\r\n    onfetchBrands: () => dispatch(fetchBrands()),\r\n    onfetchWeights: () => dispatch(fetchWeights())\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(CreateProduct);\r\n"]},"metadata":{},"sourceType":"module"}