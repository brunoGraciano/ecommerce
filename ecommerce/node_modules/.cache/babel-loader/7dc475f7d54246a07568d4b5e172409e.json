{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\bruno\\\\Desktop\\\\ecommerce\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"C:\\\\Users\\\\bruno\\\\Desktop\\\\ecommerce\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"C:\\\\Users\\\\bruno\\\\Desktop\\\\ecommerce\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\bruno\\\\Desktop\\\\ecommerce\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\bruno\\\\Desktop\\\\ecommerce\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\bruno\\\\Desktop\\\\ecommerce\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\bruno\\\\Desktop\\\\ecommerce\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\bruno\\\\Desktop\\\\ecommerce\\\\src\\\\components\\\\EditProduct\\\\EditProduct.js\";\nimport React, { Component } from \"react\";\nimport \"./EditProduct.css\";\nimport { connect } from \"react-redux\";\nimport { removeProduct } from \"../../store/actions/indexStore\";\nimport TransitionGroup from \"react-transition-group/TransitionGroup\";\nimport CSSTransition from \"react-transition-group/CSSTransition\";\nimport axios from \"axios\";\nimport { getCookie } from \"../../components/Util/Util\";\n\nvar EditProduct =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(EditProduct, _Component);\n\n  function EditProduct() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, EditProduct);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(EditProduct)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      product: {\n        name: \"\",\n        description: \"\",\n        price: 0,\n        quantity: 0,\n        thumbnail: \"\"\n      },\n      attributes: {\n        brand: \"\",\n        color: \"\",\n        weight: \"\",\n        size: \"\"\n      },\n      imageUrl: \"\",\n      imageArr: [],\n      imageArrOriginal: [],\n      errorAddImage: \"\",\n      errorAddImageFlash: false,\n      error: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(EditProduct, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.scrollTo(0, 0);\n      this.fetchProductHandler(this.props.match.params.product);\n    }\n  }, {\n    key: \"updateProductHandler\",\n    value: function updateProductHandler(productId, product, attributes, imageArr, imageArrOriginal) {\n      var _this2 = this;\n\n      var imagesArrAdd = [];\n      var imagesArrNotDeleted = [];\n\n      for (var i = 0; i < imageArr.length; i++) {\n        if (imageArr[i].key === \"\") {\n          imagesArrAdd.push(imageArr[i].url);\n        } else {\n          imagesArrNotDeleted.push(imageArr[i]);\n        }\n      }\n\n      var imageArrDeleted = imageArrOriginal.filter(function (v) {\n        return imagesArrNotDeleted.indexOf(v) === -1;\n      }); //Delete fetched images\n\n      for (var d = 0; d < imageArrDeleted.length; d++) {\n        var urlProduct = \"http://localhost:8086/catalogs/categories/audio/subcategories/headphones/products/\".concat(productId, \"/images/\").concat(imageArrDeleted[d].id, \"?session=\").concat(getCookie(\"Session\"));\n        axios.delete(urlProduct);\n      } //Add images\n\n\n      for (var b = 0; b < imagesArrAdd.length; b++) {\n        axios({\n          method: \"post\",\n          headers: {\n            \"content-type\": \"application/json\"\n          },\n          data: JSON.stringify({\n            url: imagesArrAdd[b]\n          }),\n          url: \"http://localhost:8086/catalogs/categories/audio/subcategories/headphones/products/\".concat(productId, \"/images?session=\").concat(getCookie(\"Session\"))\n        });\n      } // Update Attributes\n\n\n      axios({\n        method: \"put\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        data: JSON.stringify({\n          brand: attributes.brand,\n          color: attributes.color,\n          weight: attributes.weight,\n          size: attributes.size\n        }),\n        url: \"\\n      http://localhost:8086/catalogs/categories/idCategories/subcategories/idSubcategories/products/idProducts/attributes/\".concat(product.attributes.id, \"?session=\").concat(getCookie(\"Session\"))\n      }); // Update Product\n\n      axios({\n        method: \"put\",\n        headers: {\n          \"content-type\": \"application/json\"\n        },\n        data: JSON.stringify({\n          name: product.name,\n          description: product.description,\n          price: product.price,\n          quantity: product.quantity,\n          thumbnail: product.thumbnail\n        }),\n        url: \"http://localhost:8086/catalogs/categories/categories/subcategories/subcategories/products/\".concat(productId, \"?session=\").concat(getCookie(\"Session\"))\n      }).then(function (res) {\n        _this2.props.history.push({\n          pathname: \"/categories/subcategories/\" + _this2.props.match.params.product\n        });\n      });\n    }\n  }, {\n    key: \"fetchProductHandler\",\n    value: function fetchProductHandler(productId) {\n      var _this3 = this;\n\n      var urlProduct = \"http://localhost:8086/catalogs/categories/audio/subcategories/headphones/products/\".concat(productId);\n      axios.get(urlProduct).then(function (res) {\n        _this3.setState({\n          product: res.data\n        });\n      });\n      var urlAttributes = \"http://localhost:8086/catalogs/categories/audio/subcategories/headphones/products/\".concat(productId, \"/attributes\");\n      axios.get(urlAttributes).then(function (res) {\n        _this3.setState({\n          attributes: res.data\n        });\n      });\n      var urlImages = \"http://localhost:8086/catalogs/categories/audio/subcategories/headphones/products/\".concat(productId, \"/images\");\n      axios.get(urlImages).then(function (res) {\n        var imageArr = [];\n\n        for (var i = 0; i < res.data.length; i++) {\n          imageArr.push(res.data[i].url);\n        }\n\n        _this3.setState({\n          imageArr: res.data,\n          imageArrOriginal: res.data\n        });\n      });\n    }\n  }, {\n    key: \"addUrlHandler\",\n    value: function addUrlHandler() {\n      if (this.state.imageUrl !== \"\") {\n        if (this.state.imageArr.indexOf(this.state.imageUrl) === -1) {\n          this.state.imageArr.push({\n            key: \"\",\n            url: this.state.imageUrl\n          });\n          this.setState({\n            errorAddImage: \"\",\n            imageUrl: \"\"\n          });\n        } else {\n          this.setState({\n            errorAddImage: \"Duplicate Urls.\",\n            errorAddImageFlash: true\n          });\n        }\n      } else {\n        this.setState({\n          errorAddImage: \"Invalid Url.\",\n          errorAddImageFlash: true\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return React.createElement(\"div\", {\n        className: \"EditProduct\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"product-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"image\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        alt: this.state.product.name,\n        src: this.state.product.thumbnail,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"thumbnail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, \"Thumbnail URL:\"), React.createElement(\"input\", {\n        value: this.state.product.thumbnail,\n        type: \"text\",\n        placeholder: \"Thumbnail\",\n        onChange: function onChange(e) {\n          return _this4.setState({\n            product: _objectSpread({}, _this4.state.product, {\n              thumbnail: e.target.value\n            })\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, \"Name:\"), React.createElement(\"input\", {\n        value: this.state.product.name,\n        type: \"text\",\n        placeholder: \"Name\",\n        onChange: function onChange(e) {\n          return _this4.setState({\n            product: _objectSpread({}, _this4.state.product, {\n              name: e.target.value\n            })\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"price\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, \"Price:\"), React.createElement(\"input\", {\n        value: this.state.product.price,\n        type: \"number\",\n        placeholder: \"Price\",\n        onChange: function onChange(e) {\n          return _this4.setState({\n            product: _objectSpread({}, _this4.state.product, {\n              price: e.target.value\n            })\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"quantity\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, \"Quantity:\"), React.createElement(\"input\", {\n        value: this.state.product.quantity,\n        type: \"number\",\n        placeholder: \"Quantity\",\n        onChange: function onChange(e) {\n          return _this4.setState({\n            product: _objectSpread({}, _this4.state.product, {\n              quantity: e.target.value\n            })\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"attributes\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"brand\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, \"Brand:\"), React.createElement(\"select\", {\n        value: this.state.attributes.brand,\n        onChange: function onChange(e) {\n          return _this4.setState({\n            attributes: _objectSpread({}, _this4.state.attributes, {\n              brand: e.target.options[e.target.selectedIndex].value\n            })\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, \"All Brands\"), React.createElement(\"option\", {\n        value: \"Bose\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, \"Bose\"), React.createElement(\"option\", {\n        value: \"Audio-Technica\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, \"Audio-Technica\"), React.createElement(\"option\", {\n        value: \"Sennheiser\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, \"Sennheiser\"), React.createElement(\"option\", {\n        value: \"Huawei\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, \"Huawei\"))), React.createElement(\"div\", {\n        className: \"color\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, \"Color:\"), React.createElement(\"select\", {\n        value: this.state.attributes.color,\n        onChange: function onChange(e) {\n          return _this4.setState({\n            attributes: _objectSpread({}, _this4.state.attributes, {\n              color: e.target.options[e.target.selectedIndex].value\n            })\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252\n        },\n        __self: this\n      }, \"All Colors\"), React.createElement(\"option\", {\n        value: \"black\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, \"Black\"), React.createElement(\"option\", {\n        value: \"gray\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, \"Gray\"), React.createElement(\"option\", {\n        value: \"blue\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255\n        },\n        __self: this\n      }, \"Blue\"), React.createElement(\"option\", {\n        value: \"green\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, \"Green\"), React.createElement(\"option\", {\n        value: \"purple\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, \"Purple\"), React.createElement(\"option\", {\n        value: \"pink\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, \"Pink\"), React.createElement(\"option\", {\n        value: \"yellow\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }, \"Yellow\"), React.createElement(\"option\", {\n        value: \"orange\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, \"Orange\"), React.createElement(\"option\", {\n        value: \"red\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, \"Red\"), React.createElement(\"option\", {\n        value: \"brown\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, \"Brown\"), React.createElement(\"option\", {\n        value: \"white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, \"White\"))), React.createElement(\"div\", {\n        className: \"weight\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, \"Weight:\"), React.createElement(\"select\", {\n        value: this.state.attributes.weight,\n        onChange: function onChange(e) {\n          return _this4.setState({\n            attributes: _objectSpread({}, _this4.state.attributes, {\n              weight: e.target.options[e.target.selectedIndex].value\n            })\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }, \"All Weights\"), React.createElement(\"option\", {\n        value: \"0kg-1kg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }, \"0kg - 1kg\"), React.createElement(\"option\", {\n        value: \"1kg-2kg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      }, \"1kg - 2kg\"), React.createElement(\"option\", {\n        value: \"2kg-3kg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }, \"2kg - 3kg\"), React.createElement(\"option\", {\n        value: \"3kg-4kg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      }, \"3kg - 4kg\"), React.createElement(\"option\", {\n        value: \"4kg-5kg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284\n        },\n        __self: this\n      }, \"4kg - 5kg\"))), React.createElement(\"div\", {\n        className: \"size\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      }, \"Size:\"), React.createElement(\"select\", {\n        value: this.state.attributes.size,\n        onChange: function onChange(e) {\n          return _this4.setState({\n            attributes: _objectSpread({}, _this4.state.attributes, {\n              size: e.target.options[e.target.selectedIndex].value\n            })\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }, \"All Sizes\"), React.createElement(\"option\", {\n        value: \"small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301\n        },\n        __self: this\n      }, \"Small\"), React.createElement(\"option\", {\n        value: \"medium\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302\n        },\n        __self: this\n      }, \"Medium\"), React.createElement(\"option\", {\n        value: \"big\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      }, \"Big\")))), React.createElement(\"div\", {\n        className: \"description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308\n        },\n        __self: this\n      }, \"Description:\"), React.createElement(\"textarea\", {\n        type: \"text\",\n        placeholder: \"Description\",\n        value: this.state.product.description,\n        onChange: function onChange(e) {\n          return _this4.setState({\n            product: _objectSpread({}, _this4.state.product, {\n              description: e.target.value\n            })\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"images\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324\n        },\n        __self: this\n      }, \"Image Url:\"), React.createElement(\"div\", {\n        className: \"image-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        onChange: function onChange(e) {\n          return _this4.setState({\n            imageUrl: e.target.value\n          });\n        },\n        value: this.state.imageUrl,\n        type: \"text\",\n        placeholder: \"Image URL\",\n        onKeyPress: function onKeyPress(e) {\n          if (e.key === \"Enter\") {\n            _this4.addUrlHandler();\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326\n        },\n        __self: this\n      }), React.createElement(\"i\", {\n        onClick: function onClick() {\n          _this4.addUrlHandler();\n        },\n        className: \"fas fa-plus\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337\n        },\n        __self: this\n      })), React.createElement(\"p\", {\n        style: {\n          visibility: this.state.errorAddImage !== \"\" ? \"visible\" : \"hidden\"\n        },\n        onAnimationEnd: function onAnimationEnd() {\n          return _this4.setState({\n            errorAddImageFlash: false\n          });\n        },\n        className: this.state.errorAddImageFlash ? \"error flash\" : \"error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344\n        },\n        __self: this\n      }, this.state.errorAddImage)), React.createElement(TransitionGroup, {\n        component: \"ul\",\n        className: \"image-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359\n        },\n        __self: this\n      }, this.state.imageArr.map(function (image) {\n        return React.createElement(CSSTransition, {\n          key: image.url,\n          classNames: \"fade\",\n          timeout: 400,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 361\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          className: \"image-url\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 362\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"image\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 363\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: image.url,\n          alt: image.url,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 364\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 366\n          },\n          __self: this\n        }, image.url), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 367\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fas fa-times\",\n          onClick: function onClick() {\n            var imageArr = _toConsumableArray(_this4.state.imageArr);\n\n            for (var i = 0; i < imageArr.length; i++) {\n              if (imageArr[i].url === image.url) {\n                imageArr.splice(i, 1);\n              }\n            }\n\n            _this4.setState({\n              imageArr: imageArr\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 368\n          },\n          __self: this\n        }))));\n      })), React.createElement(\"div\", {\n        className: \"buttons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 385\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"submit\",\n        onClick: function onClick() {\n          _this4.updateProductHandler(_this4.props.match.params.product, _this4.state.product, _this4.state.attributes, _this4.state.imageArr, _this4.state.imageArrOriginal);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 386\n        },\n        __self: this\n      }, \"Submit\"), React.createElement(\"button\", {\n        className: \"reset\",\n        onClick: function onClick() {\n          return _this4.fetchProductHandler(_this4.props.match.params.product);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400\n        },\n        __self: this\n      }, \"Reset\"), React.createElement(\"button\", {\n        className: \"cancel\",\n        onClick: function onClick() {\n          return _this4.props.history.push({\n            pathname: \"/categories/subcategories/\" + _this4.props.match.params.product\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 408\n        },\n        __self: this\n      }, \"Cancel\"), React.createElement(\"button\", {\n        className: \"btn-danger\",\n        onClick: function onClick() {\n          _this4.props.onremoveProduct(_this4.props.match.params.product);\n\n          _this4.props.history.push({\n            pathname: \"/categories/subcategories/\" + _this4.props.match.params.product\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 420\n        },\n        __self: this\n      }, \"Delete Product\"))));\n    }\n  }]);\n\n  return EditProduct;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    catalog: state.catalog,\n    product: state.product\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onremoveProduct: function onremoveProduct(productId) {\n      return dispatch(removeProduct(productId));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(EditProduct);","map":{"version":3,"sources":["C:\\Users\\bruno\\Desktop\\ecommerce\\src\\components\\EditProduct\\EditProduct.js"],"names":["React","Component","connect","removeProduct","TransitionGroup","CSSTransition","axios","getCookie","EditProduct","state","product","name","description","price","quantity","thumbnail","attributes","brand","color","weight","size","imageUrl","imageArr","imageArrOriginal","errorAddImage","errorAddImageFlash","error","window","scrollTo","fetchProductHandler","props","match","params","productId","imagesArrAdd","imagesArrNotDeleted","i","length","key","push","url","imageArrDeleted","filter","v","indexOf","d","urlProduct","id","delete","b","method","headers","data","JSON","stringify","then","res","history","pathname","get","setState","urlAttributes","urlImages","e","target","value","options","selectedIndex","addUrlHandler","visibility","map","image","splice","updateProductHandler","onremoveProduct","mapStateToProps","catalog","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./EditProduct.css\";\r\nimport { connect } from \"react-redux\";\r\nimport { removeProduct } from \"../../store/actions/indexStore\";\r\nimport TransitionGroup from \"react-transition-group/TransitionGroup\";\r\nimport CSSTransition from \"react-transition-group/CSSTransition\";\r\nimport axios from \"axios\";\r\nimport { getCookie } from \"../../components/Util/Util\";\r\n\r\nclass EditProduct extends Component {\r\n  state = {\r\n    product: {\r\n      name: \"\",\r\n      description: \"\",\r\n      price: 0,\r\n      quantity: 0,\r\n      thumbnail: \"\"\r\n    },\r\n    attributes: {\r\n      brand: \"\",\r\n      color: \"\",\r\n      weight: \"\",\r\n      size: \"\"\r\n    },\r\n    imageUrl: \"\",\r\n    imageArr: [],\r\n    imageArrOriginal: [],\r\n    errorAddImage: \"\",\r\n    errorAddImageFlash: false,\r\n    error: \"\"\r\n  };\r\n  componentDidMount() {\r\n    window.scrollTo(0, 0);\r\n    this.fetchProductHandler(this.props.match.params.product);\r\n  }\r\n  updateProductHandler(\r\n    productId,\r\n    product,\r\n    attributes,\r\n    imageArr,\r\n    imageArrOriginal\r\n  ) {\r\n    const imagesArrAdd = [];\r\n    const imagesArrNotDeleted = [];\r\n    for (let i = 0; i < imageArr.length; i++) {\r\n      if (imageArr[i].key === \"\") {\r\n        imagesArrAdd.push(imageArr[i].url);\r\n      } else {\r\n        imagesArrNotDeleted.push(imageArr[i]);\r\n      }\r\n    }\r\n    const imageArrDeleted = imageArrOriginal.filter(\r\n      v => imagesArrNotDeleted.indexOf(v) === -1\r\n    );\r\n    //Delete fetched images\r\n    for (let d = 0; d < imageArrDeleted.length; d++) {\r\n      let urlProduct = `http://localhost:8086/catalogs/categories/audio/subcategories/headphones/products/${productId}/images/${\r\n        imageArrDeleted[d].id\r\n      }?session=${getCookie(\"Session\")}`;\r\n      axios.delete(urlProduct);\r\n    }\r\n    //Add images\r\n    for (let b = 0; b < imagesArrAdd.length; b++) {\r\n      axios({\r\n        method: \"post\",\r\n        headers: { \"content-type\": \"application/json\" },\r\n        data: JSON.stringify({ url: imagesArrAdd[b] }),\r\n        url: `http://localhost:8086/catalogs/categories/audio/subcategories/headphones/products/${productId}/images?session=${getCookie(\r\n          \"Session\"\r\n        )}`\r\n      });\r\n    }\r\n    // Update Attributes\r\n    axios({\r\n      method: \"put\",\r\n      headers: { \"content-type\": \"application/json\" },\r\n      data: JSON.stringify({\r\n        brand: attributes.brand,\r\n        color: attributes.color,\r\n        weight: attributes.weight,\r\n        size: attributes.size\r\n      }),\r\n      url: `\r\n      http://localhost:8086/catalogs/categories/idCategories/subcategories/idSubcategories/products/idProducts/attributes/${\r\n        product.attributes.id\r\n      }?session=${getCookie(\"Session\")}`\r\n    });\r\n    // Update Product\r\n    axios({\r\n      method: \"put\",\r\n      headers: { \"content-type\": \"application/json\" },\r\n      data: JSON.stringify({\r\n        name: product.name,\r\n        description: product.description,\r\n        price: product.price,\r\n        quantity: product.quantity,\r\n        thumbnail: product.thumbnail\r\n      }),\r\n      url: `http://localhost:8086/catalogs/categories/categories/subcategories/subcategories/products/${productId}?session=${getCookie(\r\n        \"Session\"\r\n      )}`\r\n    }).then(res => {this.props.history.push({\r\n      pathname: \"/categories/subcategories/\" + this.props.match.params.product\r\n    });});\r\n    \r\n  }\r\n\r\n  fetchProductHandler(productId) {\r\n    let urlProduct = `http://localhost:8086/catalogs/categories/audio/subcategories/headphones/products/${productId}`;\r\n    axios.get(urlProduct).then(res => {\r\n      this.setState({ product: res.data });\r\n    });\r\n    let urlAttributes = `http://localhost:8086/catalogs/categories/audio/subcategories/headphones/products/${productId}/attributes`;\r\n    axios.get(urlAttributes).then(res => {\r\n      this.setState({ attributes: res.data });\r\n    });\r\n    let urlImages = `http://localhost:8086/catalogs/categories/audio/subcategories/headphones/products/${productId}/images`;\r\n    axios.get(urlImages).then(res => {\r\n      let imageArr = [];\r\n      for (let i = 0; i < res.data.length; i++) {\r\n        imageArr.push(res.data[i].url);\r\n      }\r\n      this.setState({ imageArr: res.data, imageArrOriginal: res.data });\r\n    });\r\n  }\r\n  addUrlHandler() {\r\n    if (this.state.imageUrl !== \"\") {\r\n      if (this.state.imageArr.indexOf(this.state.imageUrl) === -1) {\r\n        this.state.imageArr.push({ key: \"\", url: this.state.imageUrl });\r\n        this.setState({ errorAddImage: \"\", imageUrl: \"\" });\r\n      } else {\r\n        this.setState({\r\n          errorAddImage: \"Duplicate Urls.\",\r\n          errorAddImageFlash: true\r\n        });\r\n      }\r\n    } else {\r\n      this.setState({\r\n        errorAddImage: \"Invalid Url.\",\r\n        errorAddImageFlash: true\r\n      });\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"EditProduct\">\r\n        <div className=\"product-wrapper\">\r\n          <div className=\"image\">\r\n            <img\r\n              alt={this.state.product.name}\r\n              src={this.state.product.thumbnail}\r\n            />\r\n          </div>\r\n          <div className=\"thumbnail\">\r\n            <p className=\"label\">Thumbnail URL:</p>\r\n            <input\r\n              value={this.state.product.thumbnail}\r\n              type=\"text\"\r\n              placeholder=\"Thumbnail\"\r\n              onChange={e =>\r\n                this.setState({\r\n                  product: {\r\n                    ...this.state.product,\r\n                    thumbnail: e.target.value\r\n                  }\r\n                })\r\n              }\r\n            />\r\n          </div>\r\n          <div className=\"name\">\r\n            <p className=\"label\">Name:</p>\r\n            <input\r\n              value={this.state.product.name}\r\n              type=\"text\"\r\n              placeholder=\"Name\"\r\n              onChange={e =>\r\n                this.setState({\r\n                  product: {\r\n                    ...this.state.product,\r\n                    name: e.target.value\r\n                  }\r\n                })\r\n              }\r\n            />\r\n          </div>\r\n          <div className=\"price\">\r\n            <p className=\"label\">Price:</p>\r\n            <input\r\n              value={this.state.product.price}\r\n              type=\"number\"\r\n              placeholder=\"Price\"\r\n              onChange={e =>\r\n                this.setState({\r\n                  product: {\r\n                    ...this.state.product,\r\n                    price: e.target.value\r\n                  }\r\n                })\r\n              }\r\n            />\r\n          </div>\r\n          <div className=\"quantity\">\r\n            <p className=\"label\">Quantity:</p>\r\n            <input\r\n              value={this.state.product.quantity}\r\n              type=\"number\"\r\n              placeholder=\"Quantity\"\r\n              onChange={e =>\r\n                this.setState({\r\n                  product: {\r\n                    ...this.state.product,\r\n                    quantity: e.target.value\r\n                  }\r\n                })\r\n              }\r\n            />\r\n          </div>\r\n          <div className=\"attributes\">\r\n            <div className=\"brand\">\r\n              <p className=\"label\">Brand:</p>\r\n              <select\r\n                value={this.state.attributes.brand}\r\n                onChange={e =>\r\n                  this.setState({\r\n                    attributes: {\r\n                      ...this.state.attributes,\r\n                      brand: e.target.options[e.target.selectedIndex].value\r\n                    }\r\n                  })\r\n                }\r\n              >\r\n                <option value=\"\">All Brands</option>\r\n                <option value=\"Bose\">Bose</option>\r\n                <option value=\"Audio-Technica\">Audio-Technica</option>\r\n                <option value=\"Sennheiser\">Sennheiser</option>\r\n                <option value=\"Huawei\">Huawei</option>\r\n              </select>\r\n            </div>\r\n            <div className=\"color\">\r\n              <p className=\"label\">Color:</p>\r\n              <select\r\n                value={this.state.attributes.color}\r\n                onChange={e =>\r\n                  this.setState({\r\n                    attributes: {\r\n                      ...this.state.attributes,\r\n                      color: e.target.options[e.target.selectedIndex].value\r\n                    }\r\n                  })\r\n                }\r\n              >\r\n                <option value=\"\">All Colors</option>\r\n                <option value=\"black\">Black</option>\r\n                <option value=\"gray\">Gray</option>\r\n                <option value=\"blue\">Blue</option>\r\n                <option value=\"green\">Green</option>\r\n                <option value=\"purple\">Purple</option>\r\n                <option value=\"pink\">Pink</option>\r\n                <option value=\"yellow\">Yellow</option>\r\n                <option value=\"orange\">Orange</option>\r\n                <option value=\"red\">Red</option>\r\n                <option value=\"brown\">Brown</option>\r\n                <option value=\"white\">White</option>\r\n              </select>\r\n            </div>\r\n            <div className=\"weight\">\r\n              <p className=\"label\">Weight:</p>\r\n              <select\r\n                value={this.state.attributes.weight}\r\n                onChange={e =>\r\n                  this.setState({\r\n                    attributes: {\r\n                      ...this.state.attributes,\r\n                      weight: e.target.options[e.target.selectedIndex].value\r\n                    }\r\n                  })\r\n                }\r\n              >\r\n                <option value=\"\">All Weights</option>\r\n                <option value=\"0kg-1kg\">0kg - 1kg</option>\r\n                <option value=\"1kg-2kg\">1kg - 2kg</option>\r\n                <option value=\"2kg-3kg\">2kg - 3kg</option>\r\n                <option value=\"3kg-4kg\">3kg - 4kg</option>\r\n                <option value=\"4kg-5kg\">4kg - 5kg</option>\r\n              </select>\r\n            </div>\r\n            <div className=\"size\">\r\n              <p className=\"label\">Size:</p>\r\n              <select\r\n                value={this.state.attributes.size}\r\n                onChange={e =>\r\n                  this.setState({\r\n                    attributes: {\r\n                      ...this.state.attributes,\r\n                      size: e.target.options[e.target.selectedIndex].value\r\n                    }\r\n                  })\r\n                }\r\n              >\r\n                <option value=\"\">All Sizes</option>\r\n                <option value=\"small\">Small</option>\r\n                <option value=\"medium\">Medium</option>\r\n                <option value=\"big\">Big</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div className=\"description\">\r\n            <p className=\"label\">Description:</p>\r\n            <textarea\r\n              type=\"text\"\r\n              placeholder=\"Description\"\r\n              value={this.state.product.description}\r\n              onChange={e =>\r\n                this.setState({\r\n                  product: {\r\n                    ...this.state.product,\r\n                    description: e.target.value\r\n                  }\r\n                })\r\n              }\r\n            />\r\n          </div>\r\n          <div className=\"images\">\r\n            <p className=\"label\">Image Url:</p>\r\n            <div className=\"image-wrapper\">\r\n              <input\r\n                onChange={e => this.setState({ imageUrl: e.target.value })}\r\n                value={this.state.imageUrl}\r\n                type=\"text\"\r\n                placeholder=\"Image URL\"\r\n                onKeyPress={e => {\r\n                  if (e.key === \"Enter\") {\r\n                    this.addUrlHandler();\r\n                  }\r\n                }}\r\n              />\r\n              <i\r\n                onClick={() => {\r\n                  this.addUrlHandler();\r\n                }}\r\n                className=\"fas fa-plus\"\r\n              />\r\n            </div>\r\n            <p\r\n              style={{\r\n                visibility:\r\n                  this.state.errorAddImage !== \"\" ? \"visible\" : \"hidden\"\r\n              }}\r\n              onAnimationEnd={() =>\r\n                this.setState({ errorAddImageFlash: false })\r\n              }\r\n              className={\r\n                this.state.errorAddImageFlash ? \"error flash\" : \"error\"\r\n              }\r\n            >\r\n              {this.state.errorAddImage}\r\n            </p>\r\n          </div>\r\n          <TransitionGroup component=\"ul\" className=\"image-list\">\r\n            {this.state.imageArr.map(image => (\r\n              <CSSTransition key={image.url} classNames=\"fade\" timeout={400}>\r\n                <li className=\"image-url\">\r\n                  <div className=\"image\">\r\n                    <img src={image.url} alt={image.url} />\r\n                  </div>\r\n                  <div>{image.url}</div>\r\n                  <div>\r\n                    <i\r\n                      className=\"fas fa-times\"\r\n                      onClick={() => {\r\n                        let imageArr = [...this.state.imageArr];\r\n                        for (let i = 0; i < imageArr.length; i++) {\r\n                          if (imageArr[i].url === image.url) {\r\n                            imageArr.splice(i, 1);\r\n                          }\r\n                        }\r\n                        this.setState({ imageArr: imageArr });\r\n                      }}\r\n                    />\r\n                  </div>\r\n                </li>\r\n              </CSSTransition>\r\n            ))}\r\n          </TransitionGroup>\r\n          <div className=\"buttons\">\r\n            <button\r\n              className=\"submit\"\r\n              onClick={() => {\r\n                this.updateProductHandler(\r\n                  this.props.match.params.product,\r\n                  this.state.product,\r\n                  this.state.attributes,\r\n                  this.state.imageArr,\r\n                  this.state.imageArrOriginal\r\n                );\r\n              }}\r\n            >\r\n              Submit\r\n            </button>\r\n            <button\r\n              className=\"reset\"\r\n              onClick={() =>\r\n                this.fetchProductHandler(this.props.match.params.product)\r\n              }\r\n            >\r\n              Reset\r\n            </button>\r\n            <button\r\n              className=\"cancel\"\r\n              onClick={() =>\r\n                this.props.history.push({\r\n                  pathname:\r\n                    \"/categories/subcategories/\" +\r\n                    this.props.match.params.product\r\n                })\r\n              }\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              className=\"btn-danger\"\r\n              onClick={() => {\r\n                this.props.onremoveProduct(this.props.match.params.product);\r\n                this.props.history.push({\r\n                  pathname:\r\n                    \"/categories/subcategories/\" +\r\n                    this.props.match.params.product\r\n                });\r\n              }}\r\n            >\r\n              Delete Product\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n    catalog: state.catalog,\r\n    product: state.product\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onremoveProduct: productId => dispatch(removeProduct(productId))\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(EditProduct);\r\n"]},"metadata":{},"sourceType":"module"}