{"ast":null,"code":"import * as actionTypes from \"./actionTypes\";\nimport axios from \"axios\";\nimport { getCookie } from \"../../components/Util/Util\";\nexport var addProduct = function addProduct(categoryId, subcategoryId, product, attributes, imageArr) {\n  return function (dispatch) {\n    axios({\n      method: \"post\",\n      headers: {\n        \"content-type\": \"application/json\"\n      },\n      data: JSON.stringify(product),\n      url: \"http://localhost:8086/catalogs/categories/\".concat(categoryId, \"/subcategories/\").concat(subcategoryId, \"/products?session=\").concat(getCookie(\"Session\"))\n    }).then(function (res) {\n      var productId = product.name.toLowerCase().split(\" \").join(\"-\");\n\n      if (res.status === 201) {\n        axios({\n          method: \"post\",\n          headers: {\n            \"content-type\": \"application/json\"\n          },\n          data: JSON.stringify(attributes),\n          url: \"http://localhost:8086/catalogs/categories/\".concat(categoryId, \"/subcategories/\").concat(subcategoryId, \"/products/\").concat(productId, \"/attributes?session=\").concat(getCookie(\"Session\"))\n        }).then(function (res) {}).catch(function (error) {\n          dispatch({\n            error: error.response.data.message\n          });\n        });\n\n        for (var i = 0; i < imageArr.length; i++) {\n          var url = imageArr[i];\n          axios({\n            method: \"post\",\n            headers: {\n              \"content-type\": \"application/json\"\n            },\n            data: JSON.stringify({\n              url: url\n            }),\n            url: \"http://localhost:8086/catalogs/categories/\".concat(categoryId, \"/subcategories/\").concat(subcategoryId, \"/products/\").concat(productId, \"/images?session=\").concat(getCookie(\"Session\"))\n          }).then(function (res) {}).catch(function (error) {\n            dispatch({\n              error: error.response.data.message\n            });\n          });\n        }\n      }\n    }).catch(function (error) {\n      dispatch({\n        error: error.response.data.message\n      });\n    });\n  };\n};\nexport var fetchProduct = function fetchProduct(productId) {\n  return function (dispatch) {\n    /*dispatch({type: actionTypes.FETCH_PRODUCT,\r\n    product: res.data});*/\n  };\n};\nexport var removeProduct = function removeProduct(productId) {\n  return function (dispatch) {\n    var url = \"http://localhost:8086/catalogs/categories/audio/subcategories/headphones/products/\".concat(productId);\n    axios.delete(url);\n    /*dispatch({type: actionTypes.REMOVE_PRODUCT);*/\n  };\n};","map":{"version":3,"sources":["C:\\Users\\bruno\\Desktop\\ecommerce\\src\\store\\actions\\productAction.js"],"names":["actionTypes","axios","getCookie","addProduct","categoryId","subcategoryId","product","attributes","imageArr","dispatch","method","headers","data","JSON","stringify","url","then","res","productId","name","toLowerCase","split","join","status","catch","error","response","message","i","length","fetchProduct","removeProduct","delete"],"mappings":"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","sourcesContent":["import * as actionTypes from \"./actionTypes\";\r\nimport axios from \"axios\";\r\nimport { getCookie } from \"../../components/Util/Util\";\r\n\r\nexport const addProduct = (\r\n  categoryId,\r\n  subcategoryId,\r\n  product,\r\n  attributes,\r\n  imageArr\r\n) => {\r\n  return dispatch => {\r\n    axios({\r\n      method: \"post\",\r\n      headers: { \"content-type\": \"application/json\" },\r\n      data: JSON.stringify(product),\r\n      url: `http://localhost:8086/catalogs/categories/${categoryId}/subcategories/${subcategoryId}/products?session=${getCookie(\r\n        \"Session\"\r\n      )}`\r\n    })\r\n      .then(res => {\r\n        const productId = product.name\r\n          .toLowerCase()\r\n          .split(\" \")\r\n          .join(\"-\");\r\n        if (res.status === 201) {\r\n          axios({\r\n            method: \"post\",\r\n            headers: { \"content-type\": \"application/json\" },\r\n            data: JSON.stringify(attributes),\r\n            url: `http://localhost:8086/catalogs/categories/${categoryId}/subcategories/${subcategoryId}/products/${productId}/attributes?session=${getCookie(\r\n              \"Session\"\r\n            )}`\r\n          })\r\n            .then(res => {})\r\n            .catch(error => {\r\n              dispatch({ error: error.response.data.message });\r\n            });\r\n          for (let i = 0; i < imageArr.length; i++) {\r\n            let url = imageArr[i];\r\n            axios({\r\n              method: \"post\",\r\n              headers: { \"content-type\": \"application/json\" },\r\n              data: JSON.stringify({ url: url }),\r\n              url: `http://localhost:8086/catalogs/categories/${categoryId}/subcategories/${subcategoryId}/products/${productId}/images?session=${getCookie(\r\n                \"Session\"\r\n              )}`\r\n            })\r\n              .then(res => {})\r\n              .catch(error => {\r\n                dispatch({ error: error.response.data.message });\r\n              });\r\n          }\r\n        }\r\n      })\r\n      .catch(error => {\r\n        dispatch({\r\n          error: error.response.data.message\r\n        });\r\n      });\r\n  };\r\n};\r\n\r\nexport const fetchProduct = productId => {\r\n  return dispatch => {\r\n    /*dispatch({type: actionTypes.FETCH_PRODUCT,\r\n    product: res.data});*/\r\n  };\r\n};\r\n\r\nexport const removeProduct = productId => {\r\n  return dispatch => {\r\n    const url = `http://localhost:8086/catalogs/categories/audio/subcategories/headphones/products/${productId}`;\r\n    axios.delete(url);\r\n    /*dispatch({type: actionTypes.REMOVE_PRODUCT);*/\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}