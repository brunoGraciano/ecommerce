{"ast":null,"code":"import * as actionTypes from \"./actionTypes\";\nimport axios from \"axios\";\nimport { getCookie } from \"../../components/Util/Util\";\nexport var addProduct = function addProduct(categoryId, subcategoryId, product, attributes, imageArr) {\n  return function (dispatch) {\n    axios({\n      method: \"post\",\n      headers: {\n        \"content-type\": \"application/json\"\n      },\n      data: JSON.stringify(product),\n      url: \"http://localhost:8086/catalogs/categories/\".concat(categoryId, \"/subcategories/\").concat(subcategoryId, \"/products?session=\").concat(getCookie(\"Session\"))\n    }).then(function (res) {\n      var productId = \"id\"; // res.data = get product id\n      // http://localhost:8086/catalogs/categories/audio/subcategories/headphones/products/headphones-sennheiser-hd-599\n\n      if (res.status === 201) {\n        axios({\n          method: \"post\",\n          headers: {\n            \"content-type\": \"application/json\"\n          },\n          data: JSON.stringify(attributes),\n          url: \"http://localhost:8086/catalogs/categories/\".concat(categoryId, \"/subcategories/\").concat(subcategoryId, \"/products/\").concat(productId, \"/attributes?session=\").concat(getCookie(\"Session\"))\n        }).then(function (res) {}).catch(function (error) {\n          dispatch({\n            error: error.response.data.message\n          });\n        });\n\n        for (var i = 0; i < imageArr.length; i++) {\n          var url = imageArr[i];\n          axios({\n            method: \"post\",\n            headers: {\n              \"content-type\": \"application/json\"\n            },\n            data: JSON.stringify({\n              url: url\n            }),\n            url: \"http://localhost:8086/catalogs/categories/\".concat(categoryId, \"/subcategories/\").concat(subcategoryId, \"/products/\").concat(productId, \"/images?session=\").concat(getCookie(\"Session\"))\n          }).then(function (res) {}).catch(function (error) {\n            dispatch({\n              error: error.response.data.message\n            });\n          });\n        }\n      }\n    }).catch(function (error) {\n      dispatch({\n        error: error.response.data.message\n      });\n    });\n  };\n};\nexport var removeProduct = function removeProduct(productId) {\n  return {\n    type: actionTypes.REMOVE_PRODUCT,\n    productId: productId\n  };\n};","map":{"version":3,"sources":["C:\\Users\\bruno\\Desktop\\ecommerce\\src\\store\\actions\\productAction.js"],"names":["actionTypes","axios","getCookie","addProduct","categoryId","subcategoryId","product","attributes","imageArr","dispatch","method","headers","data","JSON","stringify","url","then","res","productId","status","catch","error","response","message","i","length","removeProduct","type","REMOVE_PRODUCT"],"mappings":"AAAA,OAAO,KAAKA,WAAZ,MAA6B,eAA7B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,4BAA1B;AAEA,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,CACxBC,UADwB,EAExBC,aAFwB,EAGxBC,OAHwB,EAIxBC,UAJwB,EAKxBC,QALwB,EAMrB;AACH,SAAO,UAAAC,QAAQ,EAAI;AACjBR,IAAAA,KAAK,CAAC;AACJS,MAAAA,MAAM,EAAE,MADJ;AAEJC,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB,OAFL;AAGJC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeR,OAAf,CAHF;AAIJS,MAAAA,GAAG,sDAA+CX,UAA/C,4BAA2EC,aAA3E,+BAA6GH,SAAS,CACvH,SADuH,CAAtH;AAJC,KAAD,CAAL,CAQGc,IARH,CAQQ,UAAAC,GAAG,EAAI;AACX,UAAIC,SAAS,GAAG,IAAhB,CADW,CAEX;AACA;;AACA,UAAID,GAAG,CAACE,MAAJ,KAAe,GAAnB,EAAwB;AACtBlB,QAAAA,KAAK,CAAC;AACJS,UAAAA,MAAM,EAAE,MADJ;AAEJC,UAAAA,OAAO,EAAE;AAAE,4BAAgB;AAAlB,WAFL;AAGJC,UAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeP,UAAf,CAHF;AAIJQ,UAAAA,GAAG,sDAA+CX,UAA/C,4BAA2EC,aAA3E,uBAAqGa,SAArG,iCAAqIhB,SAAS,CAC/I,SAD+I,CAA9I;AAJC,SAAD,CAAL,CAQGc,IARH,CAQQ,UAAAC,GAAG,EAAI,CAAE,CARjB,EASGG,KATH,CASS,UAAAC,KAAK,EAAI;AACdZ,UAAAA,QAAQ,CAAC;AAAEY,YAAAA,KAAK,EAAEA,KAAK,CAACC,QAAN,CAAeV,IAAf,CAAoBW;AAA7B,WAAD,CAAR;AACD,SAXH;;AAYA,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGhB,QAAQ,CAACiB,MAA7B,EAAqCD,CAAC,EAAtC,EAA0C;AACxC,cAAIT,GAAG,GAAGP,QAAQ,CAACgB,CAAD,CAAlB;AACAvB,UAAAA,KAAK,CAAC;AACJS,YAAAA,MAAM,EAAE,MADJ;AAEJC,YAAAA,OAAO,EAAE;AAAE,8BAAgB;AAAlB,aAFL;AAGJC,YAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEC,cAAAA,GAAG,EAAEA;AAAP,aAAf,CAHF;AAIJA,YAAAA,GAAG,sDAA+CX,UAA/C,4BAA2EC,aAA3E,uBAAqGa,SAArG,6BAAiIhB,SAAS,CAC3I,SAD2I,CAA1I;AAJC,WAAD,CAAL,CAQGc,IARH,CAQQ,UAAAC,GAAG,EAAI,CAAE,CARjB,EASGG,KATH,CASS,UAAAC,KAAK,EAAI;AACdZ,YAAAA,QAAQ,CAAC;AAAEY,cAAAA,KAAK,EAAEA,KAAK,CAACC,QAAN,CAAeV,IAAf,CAAoBW;AAA7B,aAAD,CAAR;AACD,WAXH;AAYD;AACF;AACF,KAzCH,EA0CGH,KA1CH,CA0CS,UAAAC,KAAK,EAAI;AACdZ,MAAAA,QAAQ,CAAC;AACPY,QAAAA,KAAK,EAAEA,KAAK,CAACC,QAAN,CAAeV,IAAf,CAAoBW;AADpB,OAAD,CAAR;AAGD,KA9CH;AA+CD,GAhDD;AAiDD,CAxDM;AA0DP,OAAO,IAAMG,aAAa,GAAG,SAAhBA,aAAgB,CAAAR,SAAS,EAAI;AACxC,SAAO;AACLS,IAAAA,IAAI,EAAE3B,WAAW,CAAC4B,cADb;AAELV,IAAAA,SAAS,EAAEA;AAFN,GAAP;AAID,CALM","sourcesContent":["import * as actionTypes from \"./actionTypes\";\r\nimport axios from \"axios\";\r\nimport { getCookie } from \"../../components/Util/Util\";\r\n\r\nexport const addProduct = (\r\n  categoryId,\r\n  subcategoryId,\r\n  product,\r\n  attributes,\r\n  imageArr\r\n) => {\r\n  return dispatch => {\r\n    axios({\r\n      method: \"post\",\r\n      headers: { \"content-type\": \"application/json\" },\r\n      data: JSON.stringify(product),\r\n      url: `http://localhost:8086/catalogs/categories/${categoryId}/subcategories/${subcategoryId}/products?session=${getCookie(\r\n        \"Session\"\r\n      )}`\r\n    })\r\n      .then(res => {\r\n        let productId = \"id\";\r\n        // res.data = get product id\r\n        // http://localhost:8086/catalogs/categories/audio/subcategories/headphones/products/headphones-sennheiser-hd-599\r\n        if (res.status === 201) {\r\n          axios({\r\n            method: \"post\",\r\n            headers: { \"content-type\": \"application/json\" },\r\n            data: JSON.stringify(attributes),\r\n            url: `http://localhost:8086/catalogs/categories/${categoryId}/subcategories/${subcategoryId}/products/${productId}/attributes?session=${getCookie(\r\n              \"Session\"\r\n            )}`\r\n          })\r\n            .then(res => {})\r\n            .catch(error => {\r\n              dispatch({ error: error.response.data.message });\r\n            });\r\n          for (let i = 0; i < imageArr.length; i++) {\r\n            let url = imageArr[i];\r\n            axios({\r\n              method: \"post\",\r\n              headers: { \"content-type\": \"application/json\" },\r\n              data: JSON.stringify({ url: url }),\r\n              url: `http://localhost:8086/catalogs/categories/${categoryId}/subcategories/${subcategoryId}/products/${productId}/images?session=${getCookie(\r\n                \"Session\"\r\n              )}`\r\n            })\r\n              .then(res => {})\r\n              .catch(error => {\r\n                dispatch({ error: error.response.data.message });\r\n              });\r\n          }\r\n        }\r\n      })\r\n      .catch(error => {\r\n        dispatch({\r\n          error: error.response.data.message\r\n        });\r\n      });\r\n  };\r\n};\r\n\r\nexport const removeProduct = productId => {\r\n  return {\r\n    type: actionTypes.REMOVE_PRODUCT,\r\n    productId: productId\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}