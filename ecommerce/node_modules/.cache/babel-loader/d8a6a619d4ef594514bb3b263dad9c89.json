{"ast":null,"code":"var _this = this;\n\nimport * as actionTypes from \"./actionTypes\";\nexport var removeProductOrder = function removeProductOrder(productId) {\n  var productsLs = localStorage.getItem(\"product\").split(\",\");\n  var quantityLs = localStorage.getItem(\"quantity\").split(\",\");\n  var index = productsLs.indexOf(productId);\n\n  if (quantityLs[index] === 1) {\n    quantityLs.splice(index, 1);\n    localStorage.setItem(\"quantity\", quantityLs);\n    productsLs.splice(index, 1);\n    localStorage.setItem(\"product\", productsLs);\n  } else {\n    quantityLs[index] = quantityLs[index] - 1;\n    localStorage.setItem(\"quantity\", quantityLs);\n  }\n\n  return {\n    type: actionTypes.REMOVE_PRODUCT_ORDER,\n    products: productsLs,\n    quantity: quantityLs\n  };\n};\nexport var addProductOrder = function addProductOrder(productId) {\n  var products = localStorage.getItem(\"product\");\n  var arrProducts = [];\n  var quantity = localStorage.getItem(\"quantity\");\n  var arrQuantity = [];\n\n  if (products !== null && products !== \"\") {\n    arrProducts = products.split(\",\");\n    arrQuantity = quantity.split(\",\");\n\n    if (arrProducts.indexOf(_this.props.product.id) === -1) {\n      arrProducts.push(_this.props.product.id);\n      arrQuantity.push(1);\n    } else {\n      var indexOfProduct = arrProducts.indexOf(_this.props.product.id);\n      var prevQuantity = parseInt(arrQuantity[indexOfProduct], 10) + 1;\n      arrQuantity[indexOfProduct] = prevQuantity;\n    }\n  } else {\n    arrProducts = [_this.props.product.id];\n    arrQuantity = [1];\n  }\n\n  localStorage.setItem(\"product\", arrProducts);\n  localStorage.setItem(\"quantity\", arrQuantity);\n  return {\n    type: actionTypes.ADD_PRODUCT_ORDER,\n    products: arrProducts,\n    quantity: arrQuantity\n  };\n};\nexport var fetchProductOrder = function fetchProductOrder() {\n  return {\n    type: actionTypes.FETCH_PRODUCT_ORDER\n  };\n};","map":{"version":3,"sources":["C:\\Users\\bruno\\desktop\\ecommerce\\src\\store\\actions\\orderAction.js"],"names":["actionTypes","removeProductOrder","productId","productsLs","localStorage","getItem","split","quantityLs","index","indexOf","splice","setItem","type","REMOVE_PRODUCT_ORDER","products","quantity","addProductOrder","arrProducts","arrQuantity","props","product","id","push","indexOfProduct","prevQuantity","parseInt","ADD_PRODUCT_ORDER","fetchProductOrder","FETCH_PRODUCT_ORDER"],"mappings":"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","sourcesContent":["import * as actionTypes from \"./actionTypes\";\r\n\r\nexport const removeProductOrder = productId => {\r\n  let productsLs = localStorage.getItem(\"product\").split(\",\");\r\n  let quantityLs = localStorage.getItem(\"quantity\").split(\",\");\r\n  const index = productsLs.indexOf(productId);\r\n  if (quantityLs[index] === 1) {\r\n    quantityLs.splice(index, 1);\r\n    localStorage.setItem(\"quantity\", quantityLs);\r\n    productsLs.splice(index, 1);\r\n    localStorage.setItem(\"product\", productsLs);\r\n  } else {\r\n    quantityLs[index] = quantityLs[index] - 1;\r\n    localStorage.setItem(\"quantity\", quantityLs);\r\n  }\r\n  return {\r\n    type: actionTypes.REMOVE_PRODUCT_ORDER,\r\n    products: productsLs,\r\n    quantity: quantityLs\r\n  };\r\n};\r\n\r\nexport const addProductOrder = productId => {\r\n  let products = localStorage.getItem(\"product\");\r\n  let arrProducts = [];\r\n  let quantity = localStorage.getItem(\"quantity\");\r\n  let arrQuantity = [];\r\n  if (products !== null && products !== \"\") {\r\n    arrProducts = products.split(\",\");\r\n    arrQuantity = quantity.split(\",\");\r\n    if (arrProducts.indexOf(this.props.product.id) === -1) {\r\n      arrProducts.push(this.props.product.id);\r\n      arrQuantity.push(1);\r\n    } else {\r\n      const indexOfProduct = arrProducts.indexOf(this.props.product.id);\r\n      let prevQuantity = parseInt(arrQuantity[indexOfProduct], 10) + 1;\r\n      arrQuantity[indexOfProduct] = prevQuantity;\r\n    }\r\n  } else {\r\n    arrProducts = [this.props.product.id];\r\n    arrQuantity = [1];\r\n  }\r\n  localStorage.setItem(\"product\", arrProducts);\r\n  localStorage.setItem(\"quantity\", arrQuantity);\r\n  return {\r\n    type: actionTypes.ADD_PRODUCT_ORDER,\r\n    products: arrProducts,\r\n    quantity: arrQuantity\r\n  };\r\n};\r\n\r\nexport const fetchProductOrder = () => {\r\n  return {\r\n    type: actionTypes.FETCH_PRODUCT_ORDER\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}